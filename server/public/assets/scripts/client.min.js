var app=angular.module("clientApp",["ngRoute"]);app.config(["$routeProvider","$locationProvider",function(a,b){a.when("/address",{templateUrl:"views/address.html",controller:"AddressController"}).when("/order",{templateUrl:"views/order.html",controller:"OrderController"})}]),app.controller("AddressController",["$scope","$http",function(a,b){function c(){b.get("/api/getUsers").success(function(b){a.users=b})}a.users=[],a.getAddresses=function(){var c={params:{id:a.currentUser}};b.get("/api/getAddress",c).then(function(b){a.addresses=b.data})},c()}]),app.controller("OrderController",["$scope","$http",function(a,b){function c(){b.get("/api/getUsers").success(function(b){a.users=b})}a.users=[],a.getOrders=function(){var c={params:{id:a.currentUser,earlyDate:a.earlyDate.toISOString(),lateDate:a.lateDate.toISOString()}};b.get("/api/getOrders",c).then(function(b){var c=0,d=b.data;for(a.orders=[],i=0;i<d.length;i++){var e={},f=d[i];c+=Number(f.amount),e.date=f.order_date.slice(0,10),e.other=f,e.amount=f.amount,e.name=f.name,a.orders.push(e)}0==d.length?(a.blankMessage="There are no orders from this customer on record for the specified dates.",a.userName="",a.totalMessage="",a.totalSpent=""):(a.blankMessage="",a.userName="Orders for "+a.orders[0].name+":",a.totalMessage="Total spend by this customer for the above orders: ",a.totalSpent="$"+c)})},c()}]);